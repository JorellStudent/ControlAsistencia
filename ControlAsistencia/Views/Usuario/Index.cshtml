@model IEnumerable<ControlAsistencia.Models.Usuario>

<div class="container mt-5">
    <h2 class="text-center display-4">Gestión de Usuarios Activos</h2>

    <!-- Barra de búsqueda -->
    <form method="get" action="@Url.Action("Index", "Usuario")" class="form-inline justify-content-center mb-3">
        <input type="text" name="searchString" class="form-control mr-2" placeholder="Buscar por Nombre o RUT" value="@ViewData["CurrentFilter"]" />
        <button type="submit" class="btn btn-primary">Buscar</button>
    </form>

    @if (Model != null && Model.Any())
    {
        <table class="table table-hover mt-4">
            <thead class="thead-dark">
                <tr>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Correo</th>
                    <th>RUT</th>
                    <th class="text-center">Acciones</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var usuario in Model)
                {
                    <tr>
                        <td>@usuario.Nombre</td>
                        <td>@usuario.Apellido</td>
                        <td>@usuario.Correo</td>
                        <td>@usuario.RUT</td>
                        <td class="text-center">
                            <a href="@Url.Action("Detalles", "Usuario", new { id = usuario.IdUsuario })" class="btn btn-info btn-sm mr-2">
                                <i class="fas fa-info-circle"></i> Detalles
                            </a>
                            <a href="@Url.Action("Editar", "Usuario", new { id = usuario.IdUsuario })" class="btn btn-warning btn-sm mr-2">
                                <i class="fas fa-edit"></i> Editar
                            </a>
                            <a href="@Url.Action("Eliminar", "Usuario", new { id = usuario.IdUsuario })" class="btn btn-danger btn-sm">
                                <i class="fas fa-trash"></i> Eliminar
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <div class="alert alert-warning text-center mt-4">No hay usuarios activos disponibles.</div>
    }

    <div class="text-center mt-4">
        <a href="@Url.Action("Crear", "Usuario")" class="btn btn-success btn-lg">
            <i class="fas fa-plus"></i> Agregar Nuevo Usuario
        </a>
    </div>
</div>
